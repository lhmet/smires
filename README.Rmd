---
title: "smires"
output: github_document
---

SMIRES is a COST Action addressing the Science and Management of Intermittent Rivers & Ephemeral Streams. SMIRES brings together more than 200 hydrologists, biogeochemists, ecologists, modellers, environmental economists, social researchers and stakeholders from 31 different countries to develop a research network for synthesising the fragmented, recent knowledge on IRES, improving our understanding of IRES and translating this into a science-based, sustainable management of river networks. More information about SMIRES can be found at <http://www.smires.eu/>. 

This git repository hosts the R-package `smires`, one of several outcomes of Working Group 1 (WG1, Prevalence, distribution and trends of IRES). Given time series of daily (weekly, monthly) discharges, its purpose is:

* to estimate if it was observed at an intermittent river,
* to calculate relevant low flow and drought metrics.

# Installation of the R-package

In order to use the development version of the package `smires`  you will need to install the package `devtools`. 

``` r
install.packages("devtools")
install_github("mundl/smires")
```


# Examples

Each participating country was asked to suggest metrics and to submit a few time series with intermittent streamflow. 


### Time Series 

```{r results = 'asis', echo = FALSE} 

contrib_ts <- function(country, contact, ts = NA, publish = FALSE, comment = NA)
{
  data.frame("country" = country, "contact" = contact, "time series" = ts,
             "include" = if(is.na(ts)) NA else publish,
             "comment" = comment,
             check.names = FALSE, stringsAsFactors = FALSE)
}

series <- list(
  contrib_ts(country = "ch",
             contact = "ilja.vanmeerveld@geo.uzh.ch",
             ts = "Altlandenberg"),
  
  contrib_ts(country = "lt",
             contact = "hydro@mail.lei.lt"),
  
  contrib_ts(country = "it",
             contact = "giuseppe.verdiani@adb.puglia.it",
             ts = "Carapelle Torrent",
             comment = "Region Puglia"),
  
  contrib_ts(country = "uk",
             contact = "catsef@ceh.ac.uk",
             ts = "Balder at [Balderhead Reservoir](http://nrfa.ceh.ac.uk/data/station/info/25022), Ampney Brook at [Ampney St Peter](http://nrfa.ceh.ac.uk/data/station/info/39099)",
             publish = TRUE,
             comment = "Balder: human influence, Ampney Brook: chalk stream that dries naturally"), 
  
  contrib_ts(country = "pl",
             contact = "kazimierz_banasik@sggw.pl",
             ts = "Plachty Stare",
             comment = "uses hydrological year, starting with November"),
  
  contrib_ts(country = "fr", 
             contact = "eric.sauquet@irstea.fr",
             ts = "H1333010, H1503910, H1513210, H1603010, H1713010, H1932020"),
  
  contrib_ts(country = "es", 
             contact = "francesc.gallart@idaea.csic.es",
             ts = "Riu Manol"),
  
  contrib_ts(country = "it", 
             contact = "annamaria.degirolamo@ba.irsa.cnr.it",
             ts = "Celone, Salsola"),
  
  contrib_ts(country = "pt", 
             contact = "teresal@ipcb.pt",
             ts = NA))

series <- do.call(rbind, series)
series <- series[order(series$country), ]
row.names(series) <- NULL


options(knitr.kable.NA = '')
knitr::kable(series, caption = "Participants", format = "markdown")
```

### Metrics


```{r results = 'asis', echo = FALSE} 

contrib_metric <- function(name, type = "NA", description = NA, comment = NA, country)
{
  data.frame("metric" = name, type = "type", "description" = description, 
             "comment" = ts, country = sort(country),
             check.names = FALSE, stringsAsFactors = FALSE)
}

#metrics <- list(
#  contrib_metric()
#)
#knitr::kable(metric, caption = "Participants")
```
